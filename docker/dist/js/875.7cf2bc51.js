"use strict";(self["webpackChunkBaoyan_video"]=self["webpackChunkBaoyan_video"]||[]).push([[875],{4050:function(e,a,l){l.r(a),l.d(a,{default:function(){return b}});var o=l(6252);const t=(0,o.Uk)("女"),r=(0,o.Uk)("男"),u=(0,o.Uk)("Not listed"),n=(0,o.Uk)("取消"),d=(0,o.Uk)("保存");function m(e,a,l,m,i,p){const s=(0,o.up)("el-input"),c=(0,o.up)("el-form-item"),g=(0,o.up)("el-radio"),f=(0,o.up)("el-radio-group"),w=(0,o.up)("el-option"),_=(0,o.up)("el-select"),b=(0,o.up)("el-button"),h=(0,o.up)("el-form");return(0,o.wg)(),(0,o.j4)(h,{ref:"updateForm","label-width":"70px",model:e.registerForm,rules:e.SignUpRules},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{prop:"username",label:"用户名"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{disabled:"",modelValue:e.registerForm.username,"onUpdate:modelValue":a[0]||(a[0]=a=>e.registerForm.username=a),placeholder:"用户名"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(c,{label:"性别"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{modelValue:e.registerForm.gender,"onUpdate:modelValue":a[1]||(a[1]=a=>e.registerForm.gender=a)},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{label:2},{default:(0,o.w5)((()=>[t])),_:1}),(0,o.Wm)(g,{label:1},{default:(0,o.w5)((()=>[r])),_:1}),(0,o.Wm)(g,{label:0},{default:(0,o.w5)((()=>[u])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,o.Wm)(c,{prop:"introduction",label:"签名"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{type:"textarea",placeholder:"签名",modelValue:e.registerForm.introduction,"onUpdate:modelValue":a[2]||(a[2]=a=>e.registerForm.introduction=a)},null,8,["modelValue"])])),_:1}),(0,o.Wm)(c,{prop:"location",label:"地区"},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{modelValue:e.registerForm.location,"onUpdate:modelValue":a[3]||(a[3]=a=>e.registerForm.location=a),placeholder:"地区",style:{width:"100%"}},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.AREA,(e=>((0,o.wg)(),(0,o.j4)(w,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,o.Wm)(c,{prop:"phoneNum",label:"手机"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{placeholder:"手机",modelValue:e.registerForm.phoneNum,"onUpdate:modelValue":a[4]||(a[4]=a=>e.registerForm.phoneNum=a)},null,8,["modelValue"])])),_:1}),(0,o.Wm)(c,{prop:"email",label:"邮箱"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{modelValue:e.registerForm.email,"onUpdate:modelValue":a[5]||(a[5]=a=>e.registerForm.email=a),placeholder:"邮箱"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(b,{onClick:a[6]||(a[6]=a=>e.goBack(-1))},{default:(0,o.w5)((()=>[n])),_:1}),(0,o.Wm)(b,{type:"primary",onClick:a[7]||(a[7]=a=>e.saveMsg())},{default:(0,o.w5)((()=>[d])),_:1})])),_:1})])),_:1},8,["model","rules"])}var i=l(2262),p=l(8637),s=l(8045),c=l(1588),g=l(2167),f=(0,o.aZ)({setup(){const{proxy:e}=(0,o.FN)(),a=(0,p.oR)(),{goBack:l}=(0,s.Z)(),t=(0,i.qj)({username:"",gender:"",phoneNum:"",email:"",introduction:"",location:"",userPic:""}),r=(0,o.Fl)((()=>a.getters.userId));async function u(e){const a=await g.x.getUserOfId(e);t.username=a.data.username,t.gender=a.data.gender,t.phoneNum=a.data.phoneNum,t.email=a.data.email,t.introduction=a.data.introduction,t.location=a.data.location,t.userPic=a.data.avatar}async function n(){let a=!0;if(e.$refs["updateForm"].validate((e=>{if(!e)return a=!1})),!a)return;const o=new URLSearchParams;o.append("id",r.value),o.append("username",t.username),o.append("gender",t.gender),o.append("phone_num",t.phoneNum),o.append("email",t.email),o.append("introduction",t.introduction),o.append("location",t.location);const u=await g.x.updateUserDetail(o);e.$message({message:u.message,type:u.type}),u.success&&(e.$store.commit("setUsername",t.username),l(-1))}return(0,o.bv)((()=>{u(r.value)})),{AREA:c.q1,registerForm:t,SignUpRules:c._P,saveMsg:n,goBack:l}}}),w=l(3744);const _=(0,w.Z)(f,[["render",m],["__scopeId","data-v-7456ef0b"]]);var b=_}}]);
//# sourceMappingURL=875.7cf2bc51.js.map