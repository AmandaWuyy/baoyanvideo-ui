"use strict";(self["webpackChunkBaoyan_video"]=self["webpackChunkBaoyan_video"]||[]).push([[205],{1484:function(e,n,o){o.d(n,{Z:function(){return c}});var a=o(6252);const r={class:"icon","aria-hidden":"true"},s=["xlink:href"];function t(e,n,o,t,i,u){return(0,a.wg)(),(0,a.iD)("svg",r,[(0,a._)("use",{"xlink:href":e.icon},null,8,s)])}var i=(0,a.aZ)({props:{icon:String}}),u=o(3744);const l=(0,u.Z)(i,[["render",t]]);var c=l},9850:function(e,n,o){o.d(n,{Z:function(){return d}});var a=o(6252);const r={class:"login-logo"};function s(e,n,o,s,t,i){const u=(0,a.up)("baoyan-icon");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(u,{icon:e.icon},null,8,["icon"])])}var t=o(1484),i=o(1588),u=(0,a.aZ)({components:{BaoyanIcon:t.Z},data(){return{icon:i.JO.SIYUAN}}}),l=o(3744);const c=(0,l.Z)(u,[["render",s],["__scopeId","data-v-2cb44adf"]]);var d=c},9205:function(e,n,o){o.r(n),o.d(n,{default:function(){return y}});var a=o(6252),r=o(9963);const s=e=>((0,a.dD)("data-v-23763a9c"),e=e(),(0,a.Cn)(),e),t={class:"sign"},i=s((()=>(0,a._)("div",{class:"sign-head"},[(0,a._)("span",null,"帐号登录")],-1))),u=(0,a.Uk)("注册"),l=(0,a.Uk)("登录");function c(e,n,o,s,c,d){const m=(0,a.up)("baoyan-login-logo"),p=(0,a.up)("el-input"),g=(0,a.up)("el-form-item"),f=(0,a.up)("el-button"),w=(0,a.up)("el-form");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(m),(0,a._)("div",t,[i,(0,a.Wm)(w,{ref:"signInForm","status-icon":"",model:e.registerForm,rules:e.SignInRules},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{prop:"username"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{placeholder:"用户名",modelValue:e.registerForm.username,"onUpdate:modelValue":n[0]||(n[0]=n=>e.registerForm.username=n)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(g,{prop:"password"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{type:"password",placeholder:"密码",modelValue:e.registerForm.password,"onUpdate:modelValue":n[1]||(n[1]=n=>e.registerForm.password=n),onKeyup:(0,r.D2)(e.handleLoginIn,["enter"])},null,8,["modelValue","onKeyup"])])),_:1}),(0,a.Wm)(g,{class:"sign-btn"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{onClick:e.handleSignUp},{default:(0,a.w5)((()=>[u])),_:1},8,["onClick"]),(0,a.Wm)(f,{type:"primary",onClick:e.handleLoginIn},{default:(0,a.w5)((()=>[l])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model","rules"])])],64)}var d=o(2262),m=o(8045),p=o(9850),g=o(2167),f=o(1588),w=(0,a.aZ)({components:{BaoyanLoginLogo:p.Z},setup(){const{proxy:e}=(0,a.FN)(),{routerManager:n,changeIndex:o}=(0,m.Z)(),r=(0,d.qj)({username:"",password:""});async function s(){let a=!0;if(e.$refs["signInForm"].validate((e=>{if(!e)return a=!1})),!a)return;const s=new URLSearchParams;s.append("username",r.username),s.append("password",r.password);try{const a=await g.x.signIn(s);e.$message({message:a.message,type:a.type}),a.success&&(e.$store.commit("setUserId",a.data.id),e.$store.commit("setUsername",a.data.username),e.$store.commit("setUserPic",a.data.avatar),e.$store.commit("setToken",!0),o(f.ZF.Home),n(f.wC.Home,{path:f.wC.Home}))}catch(t){console.error(t)}}function t(){n(f.wC.SignUp,{path:f.wC.SignUp})}return{registerForm:r,SignInRules:f.Jj,handleLoginIn:s,handleSignUp:t}}}),v=o(3744);const h=(0,v.Z)(w,[["render",c],["__scopeId","data-v-23763a9c"]]);var y=h}}]);
//# sourceMappingURL=205.42af0fbc.js.map